# NPM

### 1、node_modules目录结构的管理
项目有A、B、C三个模块：
```javascript
"dependencies": {
    A: "1.0.0",
    B: "1.0.0",
    C: "1.0.0"
}
```
A、B、C三个模块又有如下依赖：
```
A@1.0.0 -> D@1.0.0

B@1.0.0 -> D@2.0.0

C@1.0.0 -> D@1.0.0
```
D可能也由依赖

#### npm 2.x - 嵌套结构
npm 2.x安装依赖方式比较简单直接，以递归的方式按照包依赖的树形结构下载填充本地目录结构，也就是说每个包都会将该包的依赖安装到当前包所在的node_modules目录中。
执行npm install后，项目App的node_modules会变成如下目录结构：
```
├── node_modules
│   ├── A@1.0.0
│   │   └── node_modules
│   │   │   └── D@1.0.0
│   ├── B@1.0.0
│   │   └── node_modules
│   │   │   └── D@2.0.0
│   └── C@1.0.0
│   │   └── node_modules
│   │   │   └── D@1.0.0
```
优点：
```
层级结构明显
简单的实现了多版本兼容
保证了对依赖包无论是安装还是删除都会有统一的行为和结构
```
缺点：
```
可能造成相同模块的大量冗余问题
可能造成目录结构嵌套比较深
```
### 2、npm中的依赖包

### 3、npm scripts 脚本

### 4、发布一个npm包

### 5、npm 和 yarn